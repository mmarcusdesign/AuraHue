<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AuraHue - Algorithmic Generator & Trends</title>

    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <style>
        /* Custom Styling for Animated Gradient Theme */
        body {
            font-family: 'Inter', sans-serif;
            /* ANIMATED GRADIENT BACKGROUND: #09c1e8 - #24bd4f - #e2d618 */
            background: linear-gradient(-45deg, #09c1e8, #24bd4f, #e2d618);
            background-size: 400% 400%;
            /* Speeding up the animation from 15s to 7.5s */
            animation: aurahue-bg 7.5s ease infinite; 
        }

        @keyframes aurahue-bg {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .card {
            background-color: #ffffff; /* White card background for contrast */
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.2); /* Softer shadow */
            border: 1px solid #e5e7eb; /* Light border */
        }
        .color-block {
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .color-block:hover {
            transform: scale(1.03);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        .hero-color {
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        /* TREND NAVIGATION BUTTON STYLE (Pill Shape) */
        .trend-nav-button {
            /* Base Style */
            @apply px-4 py-2 text-sm rounded-full bg-gray-200 text-gray-800 font-medium transition duration-200 ease-in-out;
            /* Hover/Focus Effects */
            @apply hover:bg-cyan-600 hover:text-white hover:shadow-lg hover:scale-105;
            /* Shadow on click/active */
            @apply active:shadow-inner active:bg-cyan-700;
        }
        .trend-nav-active {
            /* Active (Current Year) Style */
            @apply bg-cyan-600 text-white font-bold shadow-xl ring-2 ring-cyan-300 scale-100;
        }

        /* CUSTOM STYLE FOR THE GENERATE BUTTON - NOW USING THE SITE GRADIENT */
        #generateButton {
            /* Text color changed to white for contrast against dark/vibrant gradient */
            @apply text-white border-0 shadow-xl transition-all duration-200 ease-in-out;
            /* Applying the site's main gradient statically */
            background: linear-gradient(90deg, #09c1e8, #24bd4f, #e2d618);
            background-size: 300% 100%; /* Allow background position shift */
        }

        #generateButton:hover {
            /* Hover: increase shadow, scale slightly, and shift background position for an effect */
            @apply scale-[1.02] shadow-cyan-400/70 shadow-2xl;
            background-position: 100% 0; /* Shifts the gradient, creating a vibrant streak effect */
        }
        
        /* Subtle Click Animation: scale down and enhanced glowing shadow effect */
        #generateButton:active {
            transform: scale(0.98);
            /* Custom glowing shadow using the background gradient colors for a matching effect */
            box-shadow: 0 0 10px 4px rgba(9, 193, 232, 0.8), 0 0 20px 8px rgba(36, 189, 79, 0.6);
        }
    </style>
</head>
<!-- Switched global text to dark gray for contrast against light background -->
<body class="min-h-screen text-gray-800 flex flex-col items-center justify-between p-4">

    <!-- Global Container for all Views -->
    <div class="w-full max-w-5xl flex-grow">
        <!-- Header: Already centered via text-center -->
        <header class="text-center mb-10">
            <!-- H1 style set to requested dark color #0d121f -->
            <h1 class="text-6xl font-extrabold mb-2" style="color: #0d121f;">
                AuraHue
            </h1>
            <!-- Subtitle style set to requested dark color #0d121f -->
            <p class="text-xl font-light" id="subtitle" style="color: #0d121f;">Algorithmic Palettes and Trend History</p>
        </header>

        <!-- Main Content Area Container -->
        <div id="mainContentArea">
            
            <!-- 1. Algorithmic Generator View (Always the first section) -->
            <div id="generatorView" class="block mb-10">
                <div class="card p-6 md:p-10 rounded-xl">
                    <!-- Added text-center -->
                    <h2 class="text-3xl font-bold text-cyan-700 mb-6 border-b border-gray-300 pb-2 text-center">Algorithmic Palette Generator</h2>
                    <div class="flex justify-center mb-8">
                        <!-- The Button: Updated classes to use custom gradient style -->
                        <button
                            id="generateButton"
                            onclick="generatePalette()"
                            class="px-6 py-3 rounded-lg font-bold text-lg"
                        >
                            Generate New Random Palette
                        </button>
                    </div>
                    
                    <!-- Palette Output Area -->
                    <div id="paletteOutput" class="mt-4 p-4 min-h-32">
                        <!-- Content will be rendered here by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- 2. Trend Navigation Home (Button List) -->
            <div id="trendNavHome" class="block mb-10">
                <div class="card p-6 md:p-10 rounded-xl">
                    <!-- Added text-center -->
                    <h2 class="text-3xl font-bold text-cyan-700 mb-6 border-b border-gray-300 pb-4 text-center">Yearly Color Trend History (1955 - 2026)</h2>
                    <div id="trendNavButtons" class="flex flex-wrap gap-2 justify-center">
                        <!-- Buttons 1955-2026 rendered here -->
                    </div>
                    <p class="text-center text-sm text-gray-600 mt-6">Click a year to view its official or generated trend palettes.</p>
                </div>
            </div>

            <!-- 3. Trend Year Detail View (Initially Hidden) -->
            <div id="trendYearView" class="hidden">
                 <!-- Content rendered by renderTrendYearPage(year) -->
            </div>

            <!-- 4. About Us View (Updated Content) -->
            <div id="aboutView" class="hidden">
                 <div class="card p-6 md:p-10 rounded-xl mb-10">
                    <button onclick="showHomePage()" class="mb-4 text-cyan-700 hover:text-cyan-600 transition text-sm flex items-center">
                        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                        Back to Home
                    </button>
                    <h2 class="text-4xl font-extrabold text-cyan-700 mb-6 border-b border-gray-300 pb-3 text-center">About AuraHue: The Future of Color Trend Analysis</h2>

                    <p class="text-gray-700 mb-4 leading-relaxed">AuraHue is a state-of-the-art digital tool designed for designers, marketers, and color enthusiasts. Our core mission is to bridge the gap between historical color data and future algorithmic predictions. We provide instant access to curated color palettes, track key trend colors from 1955 onwards, and offer a powerful generator for creating harmonious new schemes based on classic color theory principles.</p>
                    
                    <h3 class="text-2xl font-bold text-cyan-700 mt-8 mb-4 border-b border-gray-300 pb-2 text-center">Our Methodology</h3>
                    <p class="text-gray-700 mb-4 leading-relaxed">We utilize two primary data sources: publicly available historical records from authoritative color bodies (like Pantone) and a proprietary, deterministic algorithm. This ensures that every year, whether historically documented or newly generated, provides a distinct and contextually relevant color scheme. Palettes generated on the fly are guaranteed to adhere to established color rules such as Triadic, Complementary, and Analogous harmony, ensuring professional quality.</p>

                    <h3 class="text-2xl font-bold text-cyan-700 mt-8 mb-4 border-b border-gray-300 pb-2 text-center">Data Integrity and Transparency</h3>
                    <ul class="list-disc list-inside text-gray-600 ml-4 space-y-2">
                        <li>**Historical Data:** Trend colors from documented years are explicitly sourced (e.g., "Pantone") to maintain academic integrity.</li>
                        <li>**Algorithmic Colors:** Colors generated for years without official documentation are clearly marked as "Generated" to avoid confusion.</li>
                        <li>**Color Format:** All colors are provided in HEX, RGB, and CMYK formats for immediate use across digital and print media.</li>
                    </ul>
                </div>
            </div>

            <!-- 5. Contact Us View (Initially Hidden) -->
            <div id="contactUsView" class="hidden">
                <div class="card p-6 md:p-10 rounded-xl mb-10">
                    <button onclick="showHomePage()" class="mb-4 text-cyan-700 hover:text-cyan-600 transition text-sm flex items-center">
                        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                        Back to Home
                    </button>
                    <h2 class="text-4xl font-extrabold text-cyan-700 mb-6 border-b border-gray-300 pb-3 text-center">Contact AuraHue</h2>
                    
                    <p class="text-lg text-gray-700 mb-6 text-center">We value your feedback and inquiries. Please reach out to us using the information below, or use our general contact email.</p>

                    <div class="max-w-md mx-auto space-y-4">
                        <div class="bg-gray-100 p-4 rounded-lg shadow-inner">
                            <h3 class="text-xl font-semibold text-cyan-700 mb-2">General Inquiries & Support</h3>
                            <p class="text-gray-800 font-mono">support@aurahue.io</p>
                        </div>
                        <div class="bg-gray-100 p-4 rounded-lg shadow-inner">
                            <h3 class="text-xl font-semibold text-cyan-700 mb-2">Business & Partnership</h3>
                            <p class="text-gray-800 font-mono">partnerships@aurahue.io</p>
                        </div>
                        <div class="bg-gray-100 p-4 rounded-lg shadow-inner">
                            <h3 class="text-xl font-semibold text-cyan-700 mb-2">Media & Press</h3>
                            <p class="text-gray-800 font-mono">press@aurahue.io</p>
                        </div>
                    </div>

                    <p class="text-sm text-gray-500 mt-8 text-center">Our team typically responds to all inquiries within 2 business days.</p>
                </div>
            </div>

            <!-- 6. Privacy Policy View (Initially Hidden) -->
            <div id="privacyPolicyView" class="hidden">
                 <div class="card p-6 md:p-10 rounded-xl mb-10">
                    <button onclick="showHomePage()" class="mb-4 text-cyan-700 hover:text-cyan-600 transition text-sm flex items-center">
                        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                        Back to Home
                    </button>
                    <h2 class="text-4xl font-extrabold text-cyan-700 mb-6 border-b border-gray-300 pb-3 text-center">AuraHue Privacy Policy</h2>
                    <p class="text-sm text-gray-500 mb-8 text-center">Last Updated: December 5, 2025</p>

                    <h3 class="text-2xl font-bold text-cyan-700 mb-3 mt-6">1. Introduction</h3>
                    <p class="text-gray-700 mb-4">AuraHue respects your privacy and is committed to protecting it. This policy describes how we handle information in the context of this specific web application.</p>

                    <h3 class="text-2xl font-bold text-cyan-700 mb-3 mt-6">2. Data Collection</h3>
                    <p class="text-gray-700 mb-4">**No Direct Personal Data Collection:** This web application is a client-side tool and does not employ a back-end server or database to collect, store, or process personally identifiable information (PII) from users. All palette generation and trend navigation are executed locally within your browser environment.</p>

                    <h3 class="text-2xl font-bold text-cyan-700 mb-3 mt-6">3. Third-Party Services and Advertising (Crucial for AdSense)</h3>
                    <p class="text-gray-700 mb-4">This application may incorporate or be displayed within platforms that utilize third-party services, including advertising partners like **Google AdSense**. While AuraHue itself does not collect PII, these external services may collect data about your device and usage (such as IP address, browser type, and interaction data) to deliver and measure the performance of advertisements.</p>

                    <ul class="list-disc list-inside text-gray-600 ml-4 space-y-2">
                        <li>**Google AdSense:** Google, as a third-party vendor, uses cookies to serve ads on this application. Google's use of the DART cookie enables it to serve ads to users based on their visit to this site and other sites on the Internet. You may opt out of the use of the DART cookie by visiting the Google Ad and Content Network Privacy Policy.</li>
                        <li>**External Links:** This policy does not cover the privacy practices of third-party websites or services linked from AuraHue. We encourage you to review their respective privacy policies.</li>
                    </ul>

                    <h3 class="text-2xl font-bold text-cyan-700 mb-3 mt-6">4. Changes to This Policy</h3>
                    <p class="text-gray-700 mb-4">We reserve the right to update this Privacy Policy at any time. We will notify you of any changes by posting the new Privacy Policy on this page.</p>
                </div>
            </div>

            <!-- 7. Terms of Service View (Initially Hidden) -->
            <div id="termsOfServiceView" class="hidden">
                 <div class="card p-6 md:p-10 rounded-xl mb-10">
                    <button onclick="showHomePage()" class="mb-4 text-cyan-700 hover:text-cyan-600 transition text-sm flex items-center">
                        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                        Back to Home
                    </button>
                    <h2 class="text-4xl font-extrabold text-cyan-700 mb-6 border-b border-gray-300 pb-3 text-center">AuraHue Terms of Service</h2>
                    <p class="text-sm text-gray-500 mb-8 text-center">Effective Date: December 5, 2025</p>

                    <h3 class="text-2xl font-bold text-cyan-700 mb-3 mt-6">1. Acceptance of Terms</h3>
                    <p class="text-gray-700 mb-4">By accessing or using the AuraHue web application, you agree to be bound by these Terms of Service. If you disagree with any part of the terms, then you may not access the service.</p>

                    <h3 class="text-2xl font-bold text-cyan-700 mb-3 mt-6">2. Permitted Use</h3>
                    <p class="text-gray-700 mb-4">AuraHue is intended for personal and commercial color trend research and palette generation. You are permitted to use and implement any generated or displayed color palettes in your own design projects, subject to applicable copyright laws regarding the source of historical data (e.g., Pantone-referenced colors). You may not reproduce the application's code or design itself without explicit permission.</p>
                    
                    <h3 class="text-2xl font-bold text-cyan-700 mb-3 mt-6">3. Intellectual Property</h3>
                    <p class="text-gray-700 mb-4">The AuraHue software, all algorithms, design elements, and original content (excluding publicly available or licensed third-party data) are the exclusive property of AuraHue and its creator. You retain all rights to any creative work you produce using the color palettes generated by the tool.</p>
                    
                    <h3 class="text-2xl font-bold text-cyan-700 mb-3 mt-6">4. Disclaimer of Warranty</h3>
                    <p class="text-gray-700 mb-4">The service is provided on an "AS IS" and "AS AVAILABLE" basis. AuraHue makes no warranties, expressed or implied, regarding the accuracy, completeness, or reliability of the color trend data or the functionality of the algorithmic generator. Your use of the service is at your sole risk.</p>
                </div>
            </div>

        </div>
    </div>
    
    <!-- Footer: Updated to use new JS functions -->
    <footer class="w-full max-w-5xl mt-10 p-4 border-t border-gray-300 text-center text-sm text-gray-500">
        <p class="mb-3">© 2025 AuraHue | Operated by Matthew Marcus</p>
        <div class="flex justify-center flex-wrap space-x-4">
            <!-- Updated hover color and new functions -->
            <a href="javascript:void(0)" onclick="showAboutPage()" class="hover:text-cyan-700 transition">About Us</a>
            <span class="text-gray-400 hidden sm:inline">|</span>
            <a href="javascript:void(0)" onclick="showContactUsPage()" class="hover:text-cyan-700 transition">Contact Us</a>
            <span class="text-gray-400 hidden sm:inline">|</span>
            <a href="javascript:void(0)" onclick="showPrivacyPolicyPage()" class="hover:text-cyan-700 transition">Privacy Policy</a>
            <span class="text-gray-400 hidden sm:inline">|</span>
            <a href="javascript:void(0)" onclick="showTermsOfServicePage()" class="hover:text-cyan-700 transition">Terms of Service</a>
        </div>
    </footer>


    <script>
        // --- STATIC DATA: YEARLY COLOR TRENDS (Official Pantone data for key years) ---
        const TREND_DB_RAW = {
            "2026": { name: "Futuristic Violet", hex: "#7E3AF2", source: "Generated" },
            "2025": { name: "Digital Lavender", hex: "#E6E6FA", source: "Prediction" },
            "2024": { name: "Peach Fuzz", hex: "#FFBE98", source: "Pantone" },
            "2023": { name: "Viva Magenta", hex: "#BB2649", source: "Pantone" },
            "2022": { name: "Very Peri", hex: "#6667AB", source: "Pantone" },
            "2021": { name: "Illuminating", hex: "#F5DF4D", source: "Pantone" },
            "2020": { name: "Classic Blue", hex: "#0F4C81", source: "Pantone" },
            "2019": { name: "Living Coral", hex: "#FF6F61", source: "Pantone" },
            "2018": { name: "Ultra Violet", hex: "#5F4B8B", source: "Pantone" },
            "2017": { name: "Greenery", hex: "#88B04B", source: "Pantone" },
            "2016": { name: "Rose Quartz", hex: "#F7CAC9", source: "Pantone" },
            "2015": { name: "Marsala", hex: "#955251", source: "Pantone" },
            "2014": { name: "Radiant Orchid", hex: "#B163A0", source: "Pantone" },
            "2013": { name: "Emerald", hex: "#009B77", source: "Pantone" },
            "2012": { name: "Tangerine Tango", hex: "#DD4124", source: "Pantone" },
            "2011": { name: "Honeysuckle", hex: "#D94F70", source: "Pantone" },
            "2010": { name: "Turquoise", hex: "#45B5AA", source: "Pantone" },
            "2009": { name: "Mimosa", hex: "#F0C05A", source: "Pantone" },
            "2008": { name: "Blue Iris", hex: "#5A5B9F", source: "Pantone" },
            "2007": { name: "Chili Pepper", hex: "#9B1B30", source: "Pantone" },
            "2006": { name: "Sand Dollar", hex: "#DECDBE", source: "Pantone" },
            "2005": { name: "Blue Turquoise", hex: "#53B0AE", source: "Pantone" },
            "2004": { name: "Tigerlily", hex: "#E2583E", source: "Pantone" },
            "2003": { name: "Aqua Sky", hex: "#7BC4C4", source: "Pantone" },
            "2000": { name: "Cerulean Blue", hex: "#98B8D4", source: "Pantone" },
        };

        const START_YEAR = 1955;
        const END_YEAR = 2026;
        let currentYear = null; 

        // --- CORE COLOR UTILITIES ---
        function hslToHex(h, s, l) {
            l /= 100;
            const a = s * Math.min(l, 1 - l) / 100;
            const f = n => {
                const k = (n + h / 30) % 12;
                const color = l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);
                return Math.round(255 * color).toString(16).padStart(2, '0');
            };
            return `#${f(0)}${f(8)}${f(4)}`.toUpperCase();
        }
        
        function hexToHSL(H) {
            let r = 0, g = 0, b = 0;
            const cleanH = H.startsWith('#') ? H.substring(1) : H;
            if (cleanH.length == 3) { r = "0x" + cleanH[0] + cleanH[0]; g = "0x" + cleanH[1] + cleanH[1]; b = "0x" + cleanH[2] + cleanH[2]; } 
            else if (cleanH.length == 6) { r = "0x" + cleanH[0] + cleanH[1]; g = "0x" + cleanH[2] + cleanH[3]; b = "0x" + cleanH[4] + cleanH[5]; } 
            else { return { h: 0, s: 0, l: 0 }; }

            r /= 255; g /= 255; b /= 255;
            let cmin = Math.min(r,g,b), cmax = Math.max(r,g,b), delta = cmax - cmin;
            let h = 0, s = 0, l = 0;

            if (delta == 0) h = 0;
            else if (cmax == r) h = ((g - b) / delta) % 6;
            else if (cmax == g) h = (b - r) / delta + 2;
            else h = (r - g) / delta + 4;
            h = Math.round(h * 60);
            if (h < 0) h += 360;
            l = (cmax + cmin) / 2;
            s = delta == 0 ? 0 : delta / (1 - Math.abs(2 * l - 1));
            s = +(s * 100).toFixed(0);
            l = +(l * 100).toFixed(0);
            return {h, s, l};
        }

        function isLightColor(hex) {
            let cleanHex = hex.replace('#', '').trim();
            if (cleanHex.includes(',')) cleanHex = cleanHex.split(',')[0].trim();
            if (cleanHex.length === 3) cleanHex = cleanHex.split('').map(c => c + c).join('');
            
            const r = parseInt(cleanHex.substring(0, 2), 16);
            const g = parseInt(cleanHex.substring(2, 4), 16);
            const b = parseInt(cleanHex.substring(4, 6), 16);
            return ((0.2126 * r + 0.7152 * g + 0.0722 * b) / 255) > 0.6;
        }

        // --- YEARLY TREND GENERATOR LOGIC ---
        function generateYearlyHero(year) {
            const seed = year * 2654435761;
            const hue = Math.floor(seed % 360);
            const saturation = 60 + Math.floor((seed / 1000) % 30);
            const lightness = 45 + Math.floor((seed / 100000) % 20);
            const hex = hslToHex(hue, saturation, lightness);

            let name = `AuraHue ${year} Primary`;
            let description = `This generated palette reflects a theme of **Adaptation** and **Forward Momentum**. The core color, a vibrant ${hex}, suggests optimism and technological progress.`;

            if (year < 1970) {
                 name = `Vintage ${year} Accent`;
                 description = `This core color for ${year} is a gentle, earth-toned shade, reflecting the post-war focus on **Stability** and **Comfort** prevalent in design and fashion.`;
            } else if (year >= 1970 && year < 1990) {
                 name = `Retro ${year} Power`;
                 description = `The hero color for ${year} is bold and energetic, capturing the transition from earth tones to vivid, often fluorescent, colors characteristic of the disco and new wave eras.`;
            } else if (year >= 1990 && year < 2000) {
                 name = `Digital ${year} Core`;
                 description = `Reflecting the digital revolution, the generated color for ${year} is clean and bright, hinting at the rise of the internet and minimalist design.`;
            }

            return { name, hex, source: "Generated", description };
        }

        function generateYearlyPalettes(heroHex) {
            const { h: seedH, s: seedS, l: seedL } = hexToHSL(heroHex);
            const palettes = [];

            const getHex = (hOffset, sOffset, lOffset) => {
                const newH = (seedH + hOffset + 360) % 360;
                const newS = Math.min(100, Math.max(10, seedS + sOffset));
                const newL = Math.min(95, Math.max(5, seedL + lOffset));
                return hslToHex(newH, newS, newL);
            };

            palettes.push({ 
                name: "Monochromatic Harmony", 
                colors: [
                    { name: "Base", hex: heroHex },
                    { name: "Shade Deep", hex: getHex(0, -10, -20) },
                    { name: "Shade Accent", hex: getHex(0, 5, 10) },
                    { name: "Tint Light", hex: getHex(0, 10, 30) },
                    { name: "Tint Pale", hex: getHex(0, 20, 50) },
                ],
                rule: "Monochromatic"
            });
            
            palettes.push({ 
                name: "Complementary Contrast", 
                colors: [
                    { name: "Hero Base", hex: heroHex },
                    { name: "Complement", hex: getHex(180, 0, 0) },
                    { name: "Neutral Warm", hex: getHex(180, -70, 30) },
                    { name: "Neutral Cool", hex: getHex(0, -70, 30) },
                    { name: "Dark Tone", hex: getHex(0, -30, -40) },
                ],
                rule: "Complementary"
            });

            palettes.push({ 
                name: "Triadic Balance", 
                colors: [
                    { name: "Base Color", hex: heroHex },
                    { name: "Primary 2", hex: getHex(120, 0, 0) },
                    { name: "Primary 3", hex: getHex(240, 0, 0) },
                    { name: "Light Neutral", hex: getHex(120, -70, 45) },
                    { name: "Deep Anchor", hex: getHex(240, -50, -20) },
                ],
                rule: "Triadic"
            });

            palettes.push({ 
                name: "Analogous Flow", 
                colors: [
                    { name: "Center", hex: heroHex },
                    { name: "Neighbor Left", hex: getHex(-30, 0, 0) },
                    { name: "Neighbor Right", hex: getHex(30, 0, 0) },
                    { name: "Accent Light", hex: getHex(15, -10, 20) },
                    { name: "Deep Tone", hex: getHex(-15, 10, -10) },
                ],
                rule: "Analogous"
            });
            
            palettes.push({ 
                name: "Split Complementary", 
                colors: [
                    { name: "Base", hex: heroHex },
                    { name: "Split Comp 1", hex: getHex(150, 0, 0) },
                    { name: "Split Comp 2", hex: getHex(-150, 0, 0) },
                    { name: "Highlight", hex: getHex(0, -30, 40) },
                    { name: "Neutral Gray", hex: getHex(90, -80, 25) },
                ],
                rule: "Split Complementary"
            });

            return palettes;
        }

        // --- UI RENDERING LOGIC ---

        function getDetailedColorInfo(hex) {
            let cleanHex = hex.replace('#', '').trim();
            if (cleanHex.length === 3) cleanHex = cleanHex.split('').map(c => c + c).join('');
            if (cleanHex.includes(',')) cleanHex = cleanHex.split(',')[0].trim();
            if (cleanHex.length !== 6) return { rgb: "Invalid", cmyk: "Invalid" };

            const r = parseInt(cleanHex.substring(0, 2), 16);
            const g = parseInt(cleanHex.substring(2, 4), 16);
            const b = parseInt(cleanHex.substring(4, 6), 16);

            const rgbString = `${r}, ${g}, ${b}`;

            let c = 0, m = 0, y = 0, k = 0;
            let rNorm = r / 255, gNorm = g / 255, bNorm = b / 255;
            k = 1 - Math.max(rNorm, gNorm, bNorm);
            if (k < 1) {
                c = Math.round((1 - rNorm - k) / (1 - k) * 100);
                m = Math.round((1 - gNorm - k) / (1 - k) * 100);
                y = Math.round((1 - bNorm - k) / (1 - k) * 100);
                k = Math.round(k * 100);
            } else { k = 100; }

            const cmykString = `${c}%, ${m}%, ${y}%, ${k}%`;
            return { rgb: rgbString, cmyk: cmykString };
        }

        function renderColorBlocks(palette, parentContainer, themeTitle, isTrend = false) {
            const container = document.createElement('div');
            const cols = 'lg:grid-cols-5';
            container.className = `grid grid-cols-2 sm:grid-cols-3 ${cols} gap-4 mt-4`;

            if (themeTitle) {
                 const title = document.createElement('h4');
                 // Added text-center
                 title.className = 'text-xl font-semibold mb-4 text-cyan-700 border-b border-gray-300 pb-2 text-center';
                 title.textContent = themeTitle;
                 parentContainer.appendChild(title);
            }

            palette.forEach(color => {
                const block = document.createElement('div');
                block.className = 'color-block card p-4 rounded-lg flex flex-col items-center cursor-pointer';
                block.setAttribute('title', `Click to copy Hex: ${color.hex}`);
                
                const hexColor = color.hex.startsWith('#') ? color.hex : `#${color.hex}`;
                const info = getDetailedColorInfo(hexColor);
                
                const nameTextSize = isTrend ? 'text-sm' : 'text-md';

                block.innerHTML = `
                    <div class="w-full ${nameTextSize === 'text-sm' ? 'h-16' : 'h-16'} rounded-lg mb-3 shadow-lg ring-1 ring-gray-300" style="background-color: ${hexColor};"></div>
                    <p class="${nameTextSize} font-bold truncate w-full text-center text-gray-900">${color.name}</p> 
                    <p class="text-xs font-mono text-gray-600">${color.hex}</p>
                    <p class="text-[10px] text-gray-500 mt-1 font-mono hidden lg:block">RGB: ${info.rgb}</p>
                    <p class="text-[10px] text-gray-500 font-mono hidden lg:block">CMYK: ${info.cmyk}</p> 
                `;

                block.addEventListener('click', () => copyToClipboard(color.hex));
                container.appendChild(block);
            });
            parentContainer.appendChild(container);
        }

        function generatePalette() {
            const outputDiv = document.getElementById('paletteOutput');
            outputDiv.innerHTML = ''; 
            
            const paletteData = generateAlgorithmicPalette();

            renderColorBlocks(paletteData.colors, outputDiv, paletteData.theme, false);
        }

        function renderYearNavigation(containerId, activeYear = null) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            
            for (let year = START_YEAR; year <= END_YEAR; year++) {
                const button = document.createElement('button');
                button.textContent = year;
                button.className = 'trend-nav-button'; 
                if (year.toString() === activeYear) {
                    button.classList.add('trend-nav-active');
                }
                button.onclick = () => showTrendYearPage(year);
                container.appendChild(button);
            }
        }

        function showTrendYearPage(year) {
            currentYear = year.toString();
            const yearData = TREND_DB_RAW[currentYear] || generateYearlyHero(year);

            const heroColor = yearData.hex;
            const heroName = yearData.name;
            const heroSource = yearData.source;
            const heroDescription = yearData.description || `The official or generated color of the year ${year} is **${heroName}**. This shade serves as a foundation for a versatile and trending aesthetic, influencing design, fashion, and culture globally.`;

            const palettes = generateYearlyPalettes(heroColor);
            
            const isLight = isLightColor(heroColor);
            const heroTextColor = isLight ? '#111827' : '#F0F0F0';

            const yearView = document.getElementById('trendYearView');
            
            // Added text-center to all trend detail headings
            const detailHtml = `
                <div class="card p-6 md:p-10 rounded-xl mb-10">
                    <button onclick="showHomePage()" class="mb-4 text-cyan-700 hover:text-cyan-600 transition text-sm flex items-center">
                        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                        Back to Trend Selection
                    </button>
                    <!-- Added text-center -->
                    <h2 class="text-4xl font-extrabold text-cyan-700 mb-6 border-b border-gray-300 pb-3 text-center">Yearly Color Trend: ${year}</h2>

                    <div class="hero-color rounded-xl mb-8 shadow-2xl ring-2 ring-gray-300 p-6" style="background-color: ${heroColor}; color: ${heroTextColor};">
                        <p class="text-5xl font-extrabold">${heroName}</p>
                        <p class="text-xl mt-2 font-semibold">HEX: ${heroColor} (${heroSource})</p>
                    </div>

                    <div class="bg-gray-100/70 p-4 rounded-lg mb-8">
                        <p class="text-gray-800 leading-relaxed">${heroDescription}</p>
                    </div>

                    <!-- Added text-center -->
                    <h3 class="text-3xl font-bold text-cyan-700 mb-6 border-b border-gray-300 pb-3 text-center">Five Related Color Palettes</h3>
                    
                    <div id="palettesContainer" class="space-y-8"></div>

                    <!-- Added text-center -->
                    <h3 class="text-2xl font-bold text-cyan-700 mt-12 mb-6 border-b border-gray-300 pb-3 text-center">Jump to Another Year</h3>
                    <div id="trendNavBottom" class="flex flex-wrap gap-2 justify-center"></div>
                </div>
            `;

            yearView.innerHTML = detailHtml;
            
            const palettesContainer = document.getElementById('palettesContainer');
            palettes.forEach(p => {
                const paletteSection = document.createElement('div');
                paletteSection.className = 'bg-gray-100/70 p-4 rounded-xl shadow-md'; 
                renderColorBlocks(p.colors, paletteSection, `${p.name} (${p.rule})`, true);
                palettesContainer.appendChild(paletteSection);
            });

            renderYearNavigation('trendNavBottom', currentYear);

            hideAllViews();
            yearView.classList.remove('hidden');
            document.getElementById('subtitle').textContent = `Color Trend History for ${year}`;
        }

        // --- VIEW MANAGEMENT FUNCTIONS ---

        function hideAllViews() {
            document.getElementById('generatorView').classList.add('hidden');
            document.getElementById('trendNavHome').classList.add('hidden');
            document.getElementById('trendYearView').classList.add('hidden');
            document.getElementById('aboutView').classList.add('hidden');
            document.getElementById('contactUsView').classList.add('hidden');
            document.getElementById('privacyPolicyView').classList.add('hidden');
            document.getElementById('termsOfServiceView').classList.add('hidden');
        }

        function showHomePage() {
            currentYear = null;
            hideAllViews();
            document.getElementById('generatorView').classList.remove('hidden');
            document.getElementById('trendNavHome').classList.remove('hidden');
            document.getElementById('subtitle').textContent = 'Algorithmic Palettes and Trend History';
        }

        function showAboutPage() {
            currentYear = null;
            hideAllViews();
            document.getElementById('aboutView').classList.remove('hidden');
            document.getElementById('subtitle').textContent = 'Learn about the AuraHue Project';
        }
        
        function showContactUsPage() {
            currentYear = null;
            hideAllViews();
            document.getElementById('contactUsView').classList.remove('hidden');
            document.getElementById('subtitle').textContent = 'Contact AuraHue Support';
        }

        function showPrivacyPolicyPage() {
            currentYear = null;
            hideAllViews();
            document.getElementById('privacyPolicyView').classList.remove('hidden');
            document.getElementById('subtitle').textContent = 'AuraHue Privacy Policy';
        }
        
        function showTermsOfServicePage() {
            currentYear = null;
            hideAllViews();
            document.getElementById('termsOfServiceView').classList.remove('hidden');
            document.getElementById('subtitle').textContent = 'AuraHue Terms of Service';
        }


        function generateAlgorithmicPalette() {
            const seedH = Math.floor(Math.random() * 360);
            const seedS = Math.floor(Math.random() * 30) + 70; 
            const seedL = Math.floor(Math.random() * 40) + 40; 
            const seedHex = hslToHex(seedH, seedS, seedL);
            
            const rules = ['Monochromatic', 'Complementary', 'Triadic', 'Analogous'];
            const randomRule = rules[Math.floor(Math.random() * rules.length)];
            const palette = [];

            const getHex = (hOffset, sOffset, lOffset) => {
                const newH = (seedH + hOffset + 360) % 360;
                const newS = Math.min(100, Math.max(10, seedS + sOffset));
                const newL = Math.min(95, Math.max(5, seedL + lOffset));
                return hslToHex(newH, newS, newL);
            };

            switch (randomRule) {
                case 'Monochromatic':
                    palette.push({ name: "Base", hex: seedHex });
                    palette.push({ name: "Shade 1", hex: getHex(0, -10, -20) });
                    palette.push({ name: "Shade 2", hex: getHex(0, -20, -40) });
                    palette.push({ name: "Tint 1", hex: getHex(0, 5, 20) });
                    palette.push({ name: "Tint 2", hex: getHex(0, 10, 40) });
                    break;
                case 'Complementary':
                    palette.push({ name: "Base", hex: seedHex });
                    palette.push({ name: "Accent", hex: getHex(180, 0, 0) }); 
                    palette.push({ name: "Neutral Dark", hex: getHex(180, -70, -30) }); 
                    palette.push({ name: "Neutral Light", hex: getHex(0, -70, 40) }); 
                    palette.push({ name: "Dark Shade", hex: getHex(0, -30, -50) });
                    break;
                case 'Triadic':
                    palette.push({ name: "Base", hex: seedHex });
                    palette.push({ name: "Primary 2", hex: getHex(120, 0, 0) });
                    palette.push({ name: "Primary 3", hex: getHex(240, 0, 0) });
                    palette.push({ name: "Accent Light", hex: getHex(0, -20, 30) });
                    palette.push({ name: "Deep Neutral", hex: getHex(120, -60, -20) });
                    break;
                case 'Analogous':
                    palette.push({ name: "Base", hex: seedHex });
                    palette.push({ name: "Neighbor 1", hex: getHex(30, 0, 0) });
                    palette.push({ name: "Neighbor 2", hex: getHex(-30, 0, 0) });
                    palette.push({ name: "Highlight", hex: getHex(15, 10, 30) });
                    palette.push({ name: "Deep Tone", hex: getHex(-15, -10, -20) });
                    break;
            }

            return {
                theme: `${randomRule} Palette (H:${seedH}° S:${seedS}% L:${seedL}%)`,
                colors: palette.map(c => ({
                    name: c.name,
                    hex: c.hex,
                    description: `Generated color from a ${randomRule} relationship.`,
                    category: 'Generated'
                }))
            };
        }

        function copyToClipboard(text) { 
            const tempInput = document.createElement('input'); 
            tempInput.value = text; 
            document.body.appendChild(tempInput); 
            tempInput.select(); 
            document.execCommand('copy'); 
            document.body.removeChild(tempInput); 
            
            const notification = document.createElement('div');
            notification.className = 'fixed bottom-20 left-1/2 transform -translate-x-1/2 px-4 py-2 bg-green-500 text-white rounded-full shadow-lg z-50 transition-opacity duration-300';
            notification.textContent = `Copied HEX: ${text} to clipboard!`;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = 'translate(-50%, -20px)';
            }, 1500);
            setTimeout(() => {
                notification.remove();
            }, 1800);
        }

        document.addEventListener('DOMContentLoaded', () => {
            renderYearNavigation('trendNavButtons');
            generatePalette(); 
        });
    </script>
</body>
</html>
